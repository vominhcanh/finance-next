@use '../../styles/variables.scss' as *;

.bottom-navigation {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 85px; // Thêm chiều cao một chút để thoáng hơn
  background: #ffffff;
  border-top-left-radius: 24px; // Bo tròn hơn
  border-top-right-radius: 24px;
  display: flex;
  justify-content: space-around;
  align-items: center;
  padding: 0 16px 10px 16px; // Padding bottom an toàn cho iPhone home bar
  z-index: 999;
  box-shadow: 0 -5px 30px rgba(0, 0, 0, 0.08); // Shadow mềm mại hơn

  .nav-item {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    color: #a0a0a0; // Màu xám nhạt hơn cho normal state
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    height: 100%;
    position: relative;

    &.active {
      color: $primary-color;

      .nav-icon {
        color: $primary-color;
        transform: translateY(-2px); // Nhảy nhẹ lên khi active
      }

      // Dot active indicator (optional, user didn't ask but makes it premium)
      &::after {
        content: '';
        position: absolute;
        bottom: 15px;
        width: 4px;
        height: 4px;
        background-color: $primary-color;
        border-radius: 50%;
        opacity: 1;
      }
    }

    // Default hidden dot
    &::after {
      content: '';
      position: absolute;
      bottom: 12px;
      width: 4px;
      height: 4px;
      background-color: $primary-color;
      border-radius: 50%;
      opacity: 0;
      transition: all 0.3s ease;
    }

    .nav-icon {
      margin-bottom: 0;
      transition: transform 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;

      svg {
        // Iconify usually renders svg
        // width/height controlled by props in TSX, but we can enforce max if needed
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.05));
      }
    }
  }

  .nav-fab {
    position: relative;
    top: -25px; // Nổi lên cao hơn
    width: 64px;
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;

    .fab-circle {
      width: 58px;
      height: 58px;
      background: $primary-color; // Dùng màu gốc thay vì lighten
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 8px 20px rgba(108, 93, 211, 0.4); // Shadow đậm chất premium
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); // Bouncy effect
      border: 4px solid #ffffff; // Viền trắng để tách biệt với bar

      svg {
        color: white;
      }

      &:hover {
        transform: scale(1.1);
        box-shadow: 0 12px 24px rgba(108, 93, 211, 0.5);
      }

      &:active {
        transform: scale(0.95);
      }
    }
  }
}
